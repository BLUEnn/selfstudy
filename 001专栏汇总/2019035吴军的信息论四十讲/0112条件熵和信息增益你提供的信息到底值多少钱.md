# 0112. 条件熵和信息增益：你提供的信息到底值多少钱？
> 吴军·信息论 40 讲
2019-06-10

前两讲，我们通过介绍信息的正交关系，讲了寻找能够彼此互补信息的重要性，又通过介绍互信息，讲了两条不同信息之间的相关性。

这一讲，我们更加系统地、量化地分析一下，如果别人给你提供了一条信息，到底有多大的价值。

我们还是从裙摆指数说起，不过这一次我们换一个角度来看这个问题。我们假设这个指数多少有点道理，那么利用它是否能够帮助炒股的回报多哪怕是一点点？

我们知道股市是一个非常不确定的地方，如果你获得了一种关于股市的信息，比如 A 公司要并购 B 公司，只有你一个人知道，而你之前对它的了解不亚于其他人，可能你的投资会表现好一点。

但是要注意它们未必构成因果关系，也就是说你挣到钱的可能性大一点，但未必一定能挣到钱，因为股市的涨跌受到太多不确定性的影响。

接下来我们就用信息理论对这个问题作一个比较严格的分析。

我们假定，股市的涨跌是个随机变量，用 X 表示，对于它的全部的不确定性，就是 X 概率分布所对应的信息熵，通常用 H（X）这个符号来表示。

如果你得到了一些内部消息，这些消息我们用 Y 来表示，那么股市对于你的不确定性就是 Y 条件下，X 概率分布的信息熵了，通常用 H（X|Y）表示，它被称为条件熵，Y 是条件。

也就是说，在别人眼里，股市的不确定性是 H（X），而在你眼里，因为有了信息 Y，因此它的不确定性变成了 H（X|Y）。

接下来的问题就是，什么情况下 H（X|Y）会比 H（X）更小？那样的话，说明你获得信息 Y 之后，股市在你那里的不确定性就降低了。

对这个问题，我有好消息和坏消息告诉你。

先说好消息，在信息论中可以证明，H（X|Y）永远比 H（X）小，或者相等，即 H（X|Y）≤ H（X）。而等号成立的条件是，你得到的消息和股市无关，那些无关的消息既不会帮你也不会害你。

比如说，你采用的预测股市的信息是你们家孩子上一次考试的分数，它不会帮你任何忙，也不会害你。

如果你得到的消息，是股市变化的等价消息，比如说，你提前知道了苹果公司要回购 100 亿美元的股票，你马上可以算下来它的股票该增长百分之几，按照 2019 年 4 月的股价来看，大约会涨 1.1% 左右。

这时，股市对于你来讲，就是确定的事情了，也就是说，如果 X 和 Y 是等价信息，它们的条件熵瞬间降到了 0。注意，我这里所说的前提是，这件事只有你知道，别人不知道。

接下来就说说坏消息。如果你知道的信息，别人也知道了怎么办？对不起，由于市场的有效性，也就是股价能够充分反映所有信息，苹果会在一瞬间上涨 1.1%。这时你再使用那条信息作出购买苹果股票的决定，就挣不到钱了，也就是说苹果公司的股价已经包含了市场对回购股票那条信息的反应。

这就是我们前天说的，同一条信息使用一万遍，只有第一次会产生结果，后面都不会产生结果。由于这个「裙摆指数」假说已经存在了上百年，大家早就知道了，即使再有道理，一个人尽皆知的消息也没有用。

我们不妨假定今天大家使用过的关于股市的各种技术指标分别是 Y1，Y2，Y3，……，YN，有 N 种。

今天股市的不确定性其实已经不再是 H（X）了，而是在这些信息条件下的 H（X|Y1，Y2，Y3，……，YN），也就是在 Y1，Y2，Y3，……，一直到 YN 所有信息都使用后的条件熵。

这时，你再将其中的某个指数，比如 Y5 重复使用，不会得到任何更好的结果。这也就是我常说的，靠画 K 线炒股挣不到钱的原因，因为它不过是众人所知的某个 Y。事实上，专业投资人没有靠画 K 线投资的。

当然，如果你有幸发现了一种新的和股市变化有关的信息，我们假设是 YM，它不在 Y1，Y2，……，YN 中，那么恭喜你，你有可能挣到钱。

这就是当年彼得·林奇在发现 PEG 这个信息后挣到钱的原因（关于彼得·林奇的故事，大家可以回顾《Google 方法论》第 55 封来信）。

当然，你还必须像彼得·林奇那样心里能够装得下事情，不要出去乱说。因为一旦 YM 这个信息被别人知道，成为公众信息，你就再也挣不到钱了。

正是因为这个原因，真正能够通过投资股票挣钱的人，是不会告诉你所谓投资秘诀的。而在电视上开讲座讲投资的，反而是自己挣不到钱的。

不过，我一直反对年轻人花精力去找所谓的别人没有发现的和股市相关的信息，包括反对专业人士这么做。为什么呢？因为最有效的信息已经被发现了，剩下来留给大家的微乎其微。

要讲清楚这一点，我们就需要讲一个信息增益（Information Gain，简称 IG）的概念。

我们还是回到了解股市变化（对应随机变量 X）这个话题，在没有任何信息的情况下，它的不确定性是 H（X）。在有了 Y1 这个有用信息后，它的不确定性变成了条件熵 H（X|Y1），我们前面说了，它比 H（X）有所减少。

那么 Y1 所带来的信息增益就是 H（X）-H（X|Y1），我们写作 IG（Y1）。

事实上具体到这个特殊的情况，IG 就是 X 和 Y 之间的互信息，这个值越大，说明消除的不确定性越大，X 和 Y 越具有相关性。

接下来，假设我们又有了另一条信息 Y2，它所带来的信息增益就是在原来 Y1 基础上的增加，我们写成 IG（Y2）。

我们假设后面还有 N 种不同的信息，从数学上看，它们带来的信息增益，每一个都是在原来所有信息基础上递减的。

通常，人们总是率先发现和所要解决问题互信息最大的信息，也就是增益最大的信息，因此通常来讲，越往后发现的信息，带来的增益越小。世界上的股市已经被人研究了几百年，各种直观的能够预测股市的有用信号已经被挖掘殆尽。

有了计算机之后，一些专业的在对冲基金里建造数学模型的人，利用计算机把几乎所有的已知信息都试验了一遍，如果有用他们就保留了下来，于是很快股市就反映了那些信息使用后的情况，也就是所谓的被 price in 了。

如果你真的有幸找到一个大家都遗漏的信号，那么还要确定两件事，才能知道它有没有用：

这个信号不要和其它已经采用过的信号重复，或者相互覆盖。

这个信号带来的结果要有足够高的置信度，也就是说，如果它让你的收益平均高出 1%，收益浮动的区间要远远小于 1%，否则浮动区间高达 10%，那就一点意义没有了。关于置信度，我们后面还会讲。

如果把这两个条件再一限制，你就知道在股市上系统性地捡漏近乎不可能。好，这就是从信息论中信息增益的概念出发，我为什么不支持年轻人去研究所谓的炒股秘笈。

利用信息增益的概念，我们可以衡量一条信息的价值，也可以衡量一项研究发现的贡献。

先说说一条信息的价值，它取决于这条信息对未知系统所带来的信息增益。两条信息，先出现的，价值更大，第二条价值就小，在数学上可以证明这一点。

当然，如果两条信息相互正交，那第二条信息依然像过去那样有价值。这一点我们前面讲正交性时已经讲了。

正是由于上述特性，在一项课题的研究中，最初的几篇论文，即便绝对水平不是最高，但是通常提供的信息增益最大，因此影响力也最大。越往后，信息增益就越来越少，影响力自然就少。

在学术界，大家评估一个人的科研水平，主要是他所发表的论文的两个指标，一个是引用的数量，另一个是所登载期刊的影响因子。

其中后者是整个期刊一段时间内发表的所有论文的引用数总和（不是直接计算的，来自不同期刊的引用会有不同的加权）除以论文数，也是引用数量的间接度量。

因此，论文的重要性几乎就等于引用数，而引用数几乎无一例外地和信息增量相关。

当你说出一个别人不知道的事情时，就会被大量引用，很快就成了学术权威。如果总是做别人已经解决得差不多的课题，做得再好，在学术界也没有影响力。

对于媒体报道，独家报道受关注的程度，远远高于凑热闹围观。所以，第一个发稿的，影响力要远远大于后面跟踪报道的。

这是因为一开始的时候，大家一无所知，提供巨大的信息增益容易，后来则是在增益上补充而已。

对于个人，也是如此。第一个说出看法的，常常就成为了意见领袖，跟着发表看法的，大家其实记不住。这时，如果还想引人注意，就要提供之前谈到的正交的信息，也就是说和别人已经提供的信息都不相关的。

很多人喜欢发表与众不同的意见，其实是有道理的，因为标新立异的观点，才有可能提供之前大家不了解的信息，当然那些观点本身需要有证据支持，符合逻辑。

要点总结

我们用条件熵的概念，解释了为什么大众已知的信息对投资和其它决策其实都没有意义。

我们给出了一个定量衡量每一条信息价值的尺度，就是信息增益。

我们用上述理论解释了为什么在一个研究领域最初的发明贡献，影响力最大。对于每个人，第一个发表意见，以及能够发表与众不同的意见，对提高自己的影响力至关重要。

至于今天给出的一些细节公式，如果看不懂不用太在意，理解背后的原理就可以了。

思考题：有一句话叫，第一个用鲜花比喻美女的是天才，第二个是庸才，第三个就是蠢材了。你能否再提供一些类似的，能用信息增益来解释的俗语呢？欢迎你在留言区和我互动。

预告：下一讲，我会告诉你如何判断一条信息靠不靠谱。我们下一讲再见。

## 黑板墙

### 01


#### 1. 总结与收获 #

H（X|Y）≤ H（X）


这里的 Y 是指只有我知道、别人不知道的独特消息。如果是尽人皆知的「共同认知」，那么在这里也没用。

所以真正擅长利用信息去挣钱的人，是不是会把自己的独家秘密放到公开场合的，这样就失效了。

另一个感悟是，如果想要被人记住，也要敢为人先，不做意见跟随者，而是意见领袖。

为了帮助大家理解信息增益的概念，我想再以决策树为例，和大家分享有的公司是如何利用群体信息的。

#### 2. 延伸阅读 - 决策树 #

在金融审批贷款业务时常用到一种叫做「决策树」的模型来评估申请借款人的资质。

每位申请人需要填写一张表格，上面包括：你的基本月收入、可用来还款的月金额、所工作行业、职级、过往借款记录与还款记录... ...

我们要建立一个像树一样的分类逻辑，以辨识哪些借款人的资质比较好（大概率上不会出现逾期还款），哪些人可能把钱放出去就基本收不回来了。这也是风控部门（风险控制与管理）为什么话语权非常重的原因。

回到这棵「决策树」，刚一开始要怎样划分用户呢？  假设 H（X）表示的是用户产生逾期还款的不确定性。

那么我们面对几百个特征，哪些特征应该优先关注呢──答案就是那些带来更大价值的特征。我们把所有的特征的增益值都计算出来：

IG(Y1) = H(X) - H(X|Y1) 


IG(Y2) = H(X) - H(X|Y2)


...


我们从这里选择 IG 值最大的特征，就是这轮中最好的特征，因为它能带给我们更多的信息。

比如说这个特征是「曾经有过一次信用卡逾期 90 天及以上」，这样第一层特征分叉的结果就是 ： 是 / 否；

重复进行以上的过程，其实就得到了一棵特征树了，这就是决策树生长的原理。

我觉得这个思考过程在我们每个人的生活中都经历过：选择学校（专业）、男女朋友、公司、去哪旅游... ...

今天这一讲的内容比较长，但我还是希望把决策树这个经典工具介绍给大家。

作为机器学习的经典流派，我个人也非常喜欢这套基于规则的学习模型。

金勇 2019 年 6 月 10 日  0 点

### 02


【课后联想】

我想起以前在北京动批打工的时候，老板早上四点多去大红门拿货，如果早上发货很火爆，马上周围七八家下午都有同款货，当第二天大家指着这款火爆的时候，老板又靠独特眼光又拿了新的款，很神奇的是，虽然她文凭不高，但是拿的款总是常常爆款引领周遭模仿潮流。而没有天赋但是能抓住时机跟着她追款的人，总是比一般的摊位赚的容易些。毕竟全国来上货的人，就那么几波…

一个服装批发小贩，因为自己独一无二的审美与对市场流行度的敏感度，让别人怎么追她款自己都是那楼里收摊最早赚的也不少的老板。

而家乡的小县城新开的辣鱼涮锅就没那么幸运，开业时候生意火爆，没多久县城又开一家，优惠多生意也还行，但之后第三家辣鱼涮锅开了的时候，三家生意都一般般了… 县城下馆子吃饭的就那些，这个秘方如果不是特别特别特别的话，很容易立刻死，即使有秘方，人也不可能天天去尝鲜，不如多练不同的特色，常加新菜品变化活动，好增加自身在小县城的寿命…

【课后反思】

不管别人做什么多成功，都不要盲目去跟风，投机投好了顶多轻松一阵子，一不小心就会懊悔一辈子。还是静下心来感受自己，每个人的起点经历运气都不一样，即使我们比别人努力更多，不一定就运气比别人好，不如找到自己喜欢的，低头哪怕做十年二十年，或许比追着别人收获的更有价值。人生短暂，不用活成别人，努力不给自己留遗憾。

2019.6.9. 00:27 努力努力再努力！

### 03


用信息增益的概念来看卓克老师近期讲的课，杨振宁先生和师弟李政道的诺奖之争，就有了理论支撑

宇称不守恒，一开始的时候，大家一无所知，杨振宁第一个发言，提供了巨大的信息增益容易，后来无论是杨振宁自己，还是李政道，无论再做出多大，多正确，多么深入的研究发现，则都是在增益上补充而已，比不上杨振宁第一个发言的第一条信息

从物理学界对杨振宁的认可，也可以说明这一点。理论和实例都告诉我们：多做信息增益大的事情，少做信息增益小的事情

### 04


被骗第一次是纯真，第二次是无知，第三次就是愚蠢。

第一次被欺骗，信息增益最大；而第二次、第三次 IG 就很小了，若还被骗代表自己也有问题。创业讲究细分垄断，做事也要宁为鸡首、不为牛后，若重复别人已做之事，那么不易受青睐，找到没这么大的项目，冲出一片天反而较有机会。

去年我们医院耳鼻喉科才发了一篇 Case Report，背景是被动物园工作人员被骆驼咬伤，于脖子处撕裂伤的手术与术后照顾，由于个案特殊，因此将其过程加以梳理后投稿，也是在当今医疗研究竞争的现况下，一种做出信息增量的努力。

最后回应老师提到『第一个说出看法的，常常就成为了意见领袖，跟着发表看法的，大家其实记不住。』这也是鼓励我们不要羞于发表意见，要勇于提出看法，不要错失表现自己的机会，永远敢于做信息增量的人。

### 05


杨振宁先生一直建议学生不要把学术生命赌在高能物理上，因为他知道这个领域虽然很热，但很难有突破性的进展。

按照今天老师介绍的理论，杨振宁之所以如此建议学生，就是因为热门的领域有太多人钻研，能够做出的独创性、开辟性的信息增益有限，很难获得与付出相对应、甚至超额的成就。

听从他建议的学生，很多后来都成了大物理学家。

### 06


老师时常提醒我们做事不要有妄念，投资尤其如此，今天从信息论的角度，以科学计算的方式再次证明了这一点。其实，自以为靠听来的所谓「内幕消息」可以赚大钱的人不在少数，经常有炒股的朋友告诉我他掌握了一条来自于某企业高管告诉他的「独家内幕」，说是该公司马上就要宣布重大消息或采取重大行动之类的，现在应该赶紧买入这家公司的股票，然后消息出来后就可以大赚一笔离场。暂且抛开消息真假不谈，这种消息对于投资获益又能有多大效果呢？几乎可以肯定当你知道时，它已经是 n 手消息了，多少人先于你已经知道了，如果按照这种消息投资，能够不成为「接盘侠」已经算是幸运的。

